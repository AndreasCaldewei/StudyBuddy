@inject Microsoft.Extensions.Localization.IStringLocalizer<SharedResources> Localizer
@using StudyBuddy.Model
@model Team
@{
    ViewData["Title"] = "Members of Team";
}

<div class="alert alert-primary" role="alert">
  Editing members of team <b>@Model.Name</b>
</div>

<table class="table table-bordered">
  <thead>
    <tr>
      <th scope="col">@Localizer["Firstname"]</th>
      <th scope="col">@Localizer["Lastname"]</th>
      <th scope="col">@Localizer["Nickname"]</th>
      <th scope="col">@Localizer["Action"]</th>
    </tr>
  </thead>
  <tbody>
    @foreach (var obj in @ViewBag.Members)
    {
        <tr>
            <td>@obj.Firstname</td>
            <td>@obj.Lastname</td>
            <td>@obj.Nickname</td>
            <td>
                <a href="/Team/RemoveMember?teamId=@Model.ID&memberId=@obj.ID">@Localizer["Remove member"]</a>
            </td>
        </tr>
    }
  </tbody>
</table>

<form method="POST" asp-controller="Team" asp-action="AddMember">
  <input type="hidden" name="teamID" value="@Model.ID">
  <div class="form-group">
      <label for="name">@Localizer["New team member"]</label>
      <select class="custom-select" name="memberID">
        <option value="0">@Localizer["Please select a new member"]</option>
        @foreach (var obj in @ViewBag.OtherUsers)
        {
            <option value="@obj.ID">@obj.Firstname @obj.Lastname (@obj.Nickname)</option>
        }
      </select>
  </div>

  <button type="submit" class="btn btn-primary">@Localizer["Add member"]</button>
    
</form>